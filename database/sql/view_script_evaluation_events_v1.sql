-- DROP VIEW public.script_evaluation_events_v1;
CREATE OR REPLACE VIEW PUBLIC.SCRIPT_EVALUATION_EVENTS_V1 AS
SELECT
  ES.SLOT,
  ES.BLOCK,
  ES.EVALUATED_SUCCESSFULLY,
  ES.EXEC_BUDGET_CPU,
  ES.EXEC_BUDGET_MEM,
  ES.SCRIPT_HASH,
  ES.DATUM,
  ES.REDEEMER,
  ES.SCRIPT_CONTEXT,
  ES.COST_MODEL_PARAMS,
  SS.LEDGER_LANGUAGE,
  SS.MAJOR_PROTOCOL_VER
FROM
  SCRIPT_EVALUATION_EVENTS ES
  JOIN SERIALISED_SCRIPTS SS ON ES.SCRIPT_HASH = SS.HASH
WHERE
  SS.LEDGER_LANGUAGE = 1;
